{"version":3,"sources":["webpack:///../gatsby-theme-aksite/src/templates/directory_archive-template.js"],"names":["DirectoryArchiveTemplate","data","pageContext","crumbs","breadcrumb","title","aksDirectory","fullLabel","pagination_parameters","numberOfPages","humanPageNumber","onChangeHandler","_e","p","path","navigate","handleChange","pagePath","nodes","allMdx"],"mappings":"4FAAA,iGA0Be,SAASA,EAAT,GAA0D,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,YACjCC,EAAaD,EAA3BE,WAAcD,OAKhBE,EAAK,cADGJ,EAAKK,aAAaC,UAG1BC,EAAwB,CAC5BC,cAAeP,EAAYO,cAC3BC,gBAAiBR,EAAYQ,gBAC7BC,gBAAiB,SAACC,EAAIC,IAfH,SAACC,EAAMD,GAC1BE,mBAAgB,IAANF,EAAWC,EAAUA,EAAtB,IAA8BD,GAcTG,CAAaf,EAAKK,aAAaW,SAAUJ,KAEzE,OAAQ,YAAC,IAAD,CAAiBR,MAAOA,EAAOa,MAAOjB,EAAKkB,OAAOD,MAAOf,OAAQA,EACvEK,sBAAuBA","file":"component---gatsby-theme-aksite-src-templates-directory-archive-template-js-7b7a24f8fb58c5f07fbd.js","sourcesContent":["import React from \"react\"\nimport { graphql, navigate } from \"gatsby\"\n\nimport ArchiveTemplate from './archive_template'\n\nexport const query = graphql`\n    query($regex: String!, $directory: String!, $skip: Int!, $limit: Int!){        \n      allMdx(sort:  {fields: frontmatter___date, order: DESC},\n        filter: {\n          frontmatter: { draft: {ne: true}},\n          fields: {directory: {regex: $regex}}},\n        skip: $skip, limit: $limit) {\n        nodes { \n          ...postFields\n        }\n      }\n      aksDirectory(name: { eq: $directory }) {\n        id, name, label, fullLabel, pagePath\n      }\n    }\n  `\n\n  const handleChange = (path, p) => {\n    navigate((p === 1) ? path : `${path}/${p}`)\n  }\n  \nexport default function DirectoryArchiveTemplate({ data, pageContext }) {\n  const { breadcrumb: { crumbs } } = pageContext\n  //const { previousPagePath, nextPagePath } = pageContext\n  \n  //const label = crumbs.slice(1).map(v => v.crumbLabel).join('/')\n  const label = data.aksDirectory.fullLabel\n  const title = `DIRECTORY: ${label}`\n\n  const pagination_parameters = {\n    numberOfPages: pageContext.numberOfPages,\n    humanPageNumber: pageContext.humanPageNumber,\n    onChangeHandler: (_e, p) => { handleChange(data.aksDirectory.pagePath, p) }\n  }\n  return (<ArchiveTemplate title={title} nodes={data.allMdx.nodes} crumbs={crumbs}\n    pagination_parameters={pagination_parameters} />)\n\n\n}\n"],"sourceRoot":""}