{"version":3,"sources":["webpack:///../gatsby-theme-aksite/src/templates/tag_archive-template.js"],"names":["TagArchiveTemplate","data","pageContext","directory","crumbs","breadcrumb","title","slice","map","v","crumbLabel","pop","pagination_parameters","numberOfPages","humanPageNumber","onChangeHandler","_e","p","tag","path","navigate","handleChange","nodes","allMdx"],"mappings":"8FAAA,iGAwBe,SAASA,EAAT,GAAoD,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,YACzCC,EAAcD,EAAdC,UACcC,EAAaF,EAA3BG,WAAcD,OAEhBE,EAAK,QADGF,EAAOG,MAAM,GAAGC,KAAI,SAAAC,GAAC,OAAIA,EAAEC,cAAYC,MAG/CC,EAAwB,CAC5BC,cAAeX,EAAYW,cAC3BC,gBAAiBZ,EAAYY,gBAC7BC,gBAAiB,SAACC,EAAIC,IAfL,SAACC,EAAKD,GAEvB,IAAME,EAAI,QAAWD,EAAX,IAAkBD,EAC9BG,mBAAgB,IAANH,EAAWE,EAAUA,EAAtB,IAA8BF,GAYPI,CAAalB,EAAWc,KAExD,OAAQ,YAAC,IAAD,CAAiBX,MAAOA,EAAOgB,MAAOrB,EAAKsB,OAAOD,MAAOlB,OAAQA,EACvEQ,sBAAuBA","file":"component---gatsby-theme-aksite-src-templates-tag-archive-template-js-802331ef15ca22cba3ed.js","sourcesContent":["import React from \"react\"\r\nimport { graphql, navigate } from \"gatsby\"\r\n//import { directoryArchivePath } from '../utils/archive_path'\r\nimport ArchiveTemplate from './archive_template'\r\n\r\nexport const query = graphql`\r\n    query($tag: String!, $skip: Int!, $limit: Int!){        \r\n      allMdx(sort:  {fields: frontmatter___date, order: DESC},\r\n        filter: {\r\n          frontmatter: { draft: {ne: true}, tags: { in: [$tag] }}\r\n        },\r\n        skip: $skip, limit: $limit) {\r\n        nodes { \r\n          ...postFields\r\n        }\r\n      }\r\n    }\r\n  `\r\nconst handleChange = (tag, p) => {\r\n  //const path = directoryArchivePath(directory)\r\n    const path = `/tag/${tag}/${p}`\r\n  navigate((p === 1) ? path : `${path}/${p}`)\r\n}\r\n\r\nexport default function TagArchiveTemplate({ data, pageContext }) {\r\n  const { directory } = pageContext\r\n  const { breadcrumb: { crumbs } } = pageContext\r\n  const label = crumbs.slice(1).map(v => v.crumbLabel).pop()\r\n  const title = `TAG: ${label}`\r\n\r\n  const pagination_parameters = {\r\n    numberOfPages: pageContext.numberOfPages,\r\n    humanPageNumber: pageContext.humanPageNumber,\r\n    onChangeHandler: (_e, p) => { handleChange(directory, p) }\r\n  }\r\n  return (<ArchiveTemplate title={title} nodes={data.allMdx.nodes} crumbs={crumbs}\r\n    pagination_parameters={pagination_parameters} />)\r\n\r\n\r\n}\r\n"],"sourceRoot":""}