{"version":3,"sources":["webpack:///./src/templates/index-template.js"],"names":["IndexTemplate","data","pageContext","humanPageNumber","numberOfPages","crumbs","breadcrumb","label","crumbLabel","title","allMdx","nodes","map","node","excerptify","key","id","display","justifyContent","m","count","page","onChange","_event","p","navigate"],"mappings":"8FAAA,yGA8DeA,UAzBO,SAAC,GAA6B,IAA1BC,EAAyB,EAAzBA,KAAMC,EAAmB,EAAnBA,YACtBC,EAAmCD,EAAnCC,gBAAiBC,EAAkBF,EAAlBE,cACHC,EAAaH,EAA3BI,WAAcD,OAEhBE,EAA6B,IAApBJ,EAAyBE,EAAO,GAAGG,WAApC,UAA2DL,EAA3D,IAMd,OACE,YAAC,IAAD,CAAQM,MAAOF,GACb,YAAC,aAAD,CAAYF,OAAQA,EAAQG,WAAYD,IAEvCN,EAAKS,OAAOC,MAAMC,KAAI,SAAAC,GAAI,OACzB,YAAC,IAAD,CAAMA,KAAMA,EAAMC,YAAY,EAAMC,IAAKF,EAAKG,QAGhD,YAAC,IAAD,CAAKC,QAAQ,OAAOC,eAAe,SAASC,EAAG,GAC/C,YAAC,IAAD,CAAYC,MAAOhB,EAAeiB,KAAMlB,EAAiBmB,SAbxC,SAACC,EAAQC,GAC5BC,mBAAgB,IAAND,EAAW,IAAZ,IAAsBA","file":"component---src-templates-index-template-js-2e43255dee5f1782ca83.js","sourcesContent":["import React from \"react\"\nimport { graphql, navigate } from \"gatsby\"\nimport { Breadcrumb } from 'gatsby-plugin-breadcrumb'\nimport Layout from \"../components/layout.js\"\nimport { Post } from \"../components/post.js\"\nimport { Pagination } from '@material-ui/lab'\nimport { Box } from '@material-ui/core'\n\nexport const data = graphql`\n  query ($skip: Int!, $limit: Int!, $pruneLength: Int!=200){\n    site {\n      siteMetadata {\n        description\n      }\n    }\n    allMdx (sort: {fields: frontmatter___date, order: DESC},\n      skip: $skip, limit: $limit){\n      nodes {\n        id\n        frontmatter { \n          title, date(formatString: \"YYYY-MM-DD\"), description \n          cover {\n            childImageSharp {\n              fluid(maxWidth: 800) {\n                ...GatsbyImageSharpFluid\n              }\n            }\n          }\n        }\n        excerpt(pruneLength: $pruneLength)\n        fields { slug, directory }\n        tableOfContents\n      }\n    }\n  }\n`\n\nconst IndexTemplate = ( { data, pageContext } ) => {\n  const { humanPageNumber, numberOfPages } = pageContext;\n  const { breadcrumb: { crumbs } } = pageContext\n\n  const label = (humanPageNumber === 1) ? crumbs[0].crumbLabel : `index [${humanPageNumber}]`\n  \n  const handleChange = (_event, p) => {\n    navigate((p === 1) ? '/' : `/${p}`)\n  }\n\n  return (\n    <Layout title={label}>  \n      <Breadcrumb crumbs={crumbs} crumbLabel={label}/>\n      \n      {data.allMdx.nodes.map(node=>(\n        <Post node={node} excerptify={true} key={node.id}/>\n      ))}\n      \n      <Box display=\"flex\" justifyContent=\"center\" m={3}>\n      <Pagination count={numberOfPages} page={humanPageNumber} onChange={handleChange}/>\n      </Box>\n    </Layout>    \n  )\n}\n\nexport default IndexTemplate\n\n"],"sourceRoot":""}