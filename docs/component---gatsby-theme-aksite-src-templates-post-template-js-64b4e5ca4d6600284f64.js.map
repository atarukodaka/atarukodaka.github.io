{"version":3,"sources":["webpack:///../gatsby-theme-aksite/src/templates/post-template.js"],"names":["PostTemplate","data","pageContext","console","log","mdx","fields","slug","node","crumbs","breadcrumb","title","postTitle","frontmatter","description","excerpt","cover","publicURL","index","allMdx","nodes","map","v","id","indexOf","prevPost","nextPost","length","siblings","filter","directory","tableOfContents","crumbLabel"],"mappings":"6FAAA,yHAyBe,SAASA,EAAT,GAA8C,IAAD,EAArBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,YAC3CC,QAAQC,IAAR,oBAAgCH,EAAKI,IAAIC,OAAOC,MAChD,IAAMC,EAAOP,EAAKI,IACII,EAAaP,EAA3BQ,WAAcD,OAEhBE,EAAQH,EAAKF,OAAOM,WAAaJ,EAAKK,YAAYF,MAClDG,EAAcN,EAAKK,YAAYC,aAAeN,EAAKO,QACnDC,EAAK,UAAGR,EAAKK,YAAYG,aAApB,aAAG,EAAwBC,UAChCC,EAAQjB,EAAKkB,OAAOC,MAAMC,KAAI,SAAAC,GAAC,OAAIA,EAAEC,MAAIC,QAAQhB,EAAKe,IACtDE,EAAYP,EAAQ,EAAKjB,EAAKkB,OAAOC,MAAMF,EAAQ,GAAK,KACxDQ,EAAYR,EAAQjB,EAAKkB,OAAOC,MAAMO,OAAU1B,EAAKkB,OAAOC,MAAMF,EAAQ,GAAK,KAC/EU,EAAW3B,EAAKkB,OAAOC,MAAMS,QAAO,SAAAP,GAAC,OACxCA,EAAEC,KAAOf,EAAKe,IAAQD,EAAEhB,OAAOwB,YAActB,EAAKF,OAAOwB,aAE5D,OACE,YAAC,IAAD,CAAQC,gBAAiBvB,EAAKuB,iBAC5B,YAAC,IAAD,CAAKpB,MAAOA,EAAOG,YAAaA,EAAaE,MAAOA,IAEpD,YAAC,IAAD,CAAYP,OAAQA,EAAQuB,WAAYrB,IAExC,YAAC,IAAD,CAAMH,KAAMA,EAAMoB,SAAUA,EAC1BH,SAAUA,EAAUC,SAAUA","file":"component---gatsby-theme-aksite-src-templates-post-template-js-64b4e5ca4d6600284f64.js","sourcesContent":["import React from \"react\"\nimport { graphql } from \"gatsby\"\n//import { Breadcrumb } from 'gatsby-plugin-breadcrumb'\nimport Breadcrumb from '../components/Breadcrumb'\n\nimport Layout from \"../components/Layout\"\nimport Post from \"../components/Post\"\nimport SEO from '../components/SEO'\n\nexport const query = graphql`\n    query ($slug: String!) {\n      mdx(fields: { slug: { eq: $slug }}){\n        ...postFieldsBody\n               \n      }\n\n      allMdx(sort: {fields: frontmatter___date, order: ASC}) {\n        nodes {\n          ...postFields\n        }\n      }\n    }\n\n`\n\nexport default function PostTemplate({ data, pageContext }) {\n  console.log(`create/template: ${data.mdx.fields.slug}`)\n  const node = data.mdx\n  const { breadcrumb: { crumbs } } = pageContext\n\n  const title = node.fields.postTitle || node.frontmatter.title\n  const description = node.frontmatter.description || node.excerpt\n  const cover = node.frontmatter.cover?.publicURL\n  const index = data.allMdx.nodes.map(v => v.id).indexOf(node.id)\n  const prevPost = (index > 0) ? data.allMdx.nodes[index - 1] : null\n  const nextPost = (index < data.allMdx.nodes.length) ? data.allMdx.nodes[index + 1] : null\n  const siblings = data.allMdx.nodes.filter(v =>\n    (v.id !== node.id) && (v.fields.directory === node.fields.directory))\n\n  return (\n    <Layout tableOfContents={node.tableOfContents} >\n      <SEO title={title} description={description} cover={cover} />\n\n      <Breadcrumb crumbs={crumbs} crumbLabel={title} />\n\n      <Post node={node} siblings={siblings}\n        prevPost={prevPost} nextPost={nextPost} />\n    </Layout>\n  )\n}\n"],"sourceRoot":""}