{"version":3,"sources":["webpack:///./src/templates/directory_archive-template.js"],"names":["DirectoryArchiveTemplate","data","pageContext","directory","crumbs","breadcrumb","title","slice","map","v","crumbLabel","join","pagination_parameters","numberOfPages","humanPageNumber","onChangeHandler","_e","p","path","directoryArchivePath","navigate","handleChange","nodes","allMdx"],"mappings":"8FAAA,6GAsBe,SAASA,EAAT,GAA0D,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,YAC/CC,EAAcD,EAAdC,UACcC,EAAaF,EAA3BG,WAAcD,OAGhBE,EAAK,cADGF,EAAOG,MAAM,GAAGC,KAAI,SAAAC,GAAC,OAAIA,EAAEC,cAAYC,KAAK,KAKpDC,EAAwB,CAC5BC,cAAeX,EAAYW,cAC3BC,gBAAiBZ,EAAYY,gBAC7BC,gBAAiB,SAACC,EAAIC,IAjBL,SAACd,EAAWc,GAC/B,IAAMC,EAAOC,+BAAqBhB,GAClCiB,mBAAgB,IAANH,EAAWC,EAAUA,EAAtB,IAA8BD,GAePI,CAAalB,EAAWc,KAExD,OAAQ,YAAC,IAAD,CAAiBX,MAAOA,EAAOgB,MAAOrB,EAAKsB,OAAOD,MAAOlB,OAAQA,EACvEQ,sBAAuBA","file":"component---src-templates-directory-archive-template-js-53d980414808021f7e09.js","sourcesContent":["import React from \"react\"\nimport { graphql, navigate } from \"gatsby\"\nimport { directoryArchivePath } from '../utils/archive_path'\nimport ArchiveTemplate from './archive_template'\n\nexport const query = graphql`\n    query($regex: String!, $skip: Int!, $limit: Int!){        \n      allMdx(sort:  {fields: frontmatter___date, order: DESC},\n        filter: {fields: {directory: {regex: $regex}}},\n        skip: $skip, limit: $limit\n         ) {\n        nodes { \n          ...postFields\n        }\n      }\n    }\n  `\nconst handleChange = (directory, p) => {\n  const path = directoryArchivePath(directory)\n  navigate((p === 1) ? path : `${path}/${p}`)\n}\n\nexport default function DirectoryArchiveTemplate({ data, pageContext }) {\n  const { directory } = pageContext\n  const { breadcrumb: { crumbs } } = pageContext\n  //const current_directory = directory.split('/').slice(-1)\n  const label = crumbs.slice(1).map(v => v.crumbLabel).join('/')\n  const title = `DIRECTORY: ${label}`\n\n  //const picked = (({ foo, bar }) => ({ foo, bar }))(context);\n  \n  const pagination_parameters = {\n    numberOfPages: pageContext.numberOfPages,\n    humanPageNumber: pageContext.humanPageNumber,\n    onChangeHandler: (_e, p) => { handleChange(directory, p) }\n  }\n  return (<ArchiveTemplate title={title} nodes={data.allMdx.nodes} crumbs={crumbs}\n    pagination_parameters={pagination_parameters}/>)\n    \n\n}\n"],"sourceRoot":""}