{"version":3,"sources":["webpack:///./src/components/layout.js"],"names":["theme","createMuiTheme","palette","primary","light","main","dark","contrastText","cssSiteTitle","TopPane","siteTitle","siteDescription","React","useState","open","setOpen","position","mdUp","onClick","color","component","Link","to","cx","process","css","cssMiddlePane","cssTableOfContents","cssSidebar","Tree","items","map","v","key","url","title","TableOfContents","MiddlePane","children","tableOfContents","container","spacing","smDown","item","md","xs","cssBottomPane","BottomPane","author","Date","getFullYear","href","Layout","description","image","data","useStaticQuery","site","siteMetadata","undefined","lang","social"],"mappings":"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","file":"1cd84ed5a56b3e3414cabc6fa6e6625f01dec06e-1efd55571f9b4bfe44c7.js","sourcesContent":["import React from \"react\"\nimport { graphql, useStaticQuery, Link } from \"gatsby\"\n\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Grid from '@material-ui/core/Grid'\nimport Container from '@material-ui/core/Container'\nimport Button from '@material-ui/core/Button'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport Hidden from '@material-ui/core/Hidden'\nimport { Drawer, IconButton, Divider } from '@material-ui/core'\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles'\nimport { css } from '@emotion/react'\n\nimport MonthlyArchives from './MonthlyArchives'\nimport DirectoryArchives from './DirectoryArchives'\nimport SEO from './SEO'\nimport GoogleSearch from './GoogleSearch'\nimport Sidebar from './Sidebar'\n\n//import styles from './layout.module.css'\n\nconst theme = createMuiTheme({  // #1\n    palette: {\n        /* type: 'dark', */\n        \n        primary: {\n            light: '#ffff8b',\n            main: '#222277',\n            dark: '#c9bc1f',\n            contrastText: '#ffffff',\n\n        }\n        \n    },\n})\nconst query = graphql`\n{\n    site {\n        ...siteInformation\n    }\n}\n`\n////////////////////////////////////////////////////////////////\n// Top\nconst cssSiteTitle = css`\n    padding-top: 40px;\n    padding-bottom: 40px;\n    border-bottom: 2px solid #111; \n\n    h1 { font-size: 4rem; }\n    a { \n        text-decoration: none;\n        color: black;\n    }\n`\nconst TopPane = ({ siteTitle, siteDescription }) => {\n    //const data = useStaticQuery(query)\n    const [open, setOpen] = React.useState(false);\n    const handleDrawerOpen = () => {\n        setOpen(true);\n    };\n\n    const handleDrawerClose = () => {\n        setOpen(false);\n    };\n    const gcse_cx = process.env.GCSE_CX\n\n    return (\n        <header>\n            <AppBar position=\"relative\">\n                <Toolbar>\n                    <Hidden mdUp>\n                        <IconButton onClick={handleDrawerOpen} color=\"inherit\">\n                            <MenuIcon />\n                        </IconButton>\n                    </Hidden>\n\n                    <Button color=\"inherit\" component={Link} to=\"/\">{siteTitle}</Button>\n                    <Button color=\"inherit\" component={Link} to=\"/about\">About</Button>\n                </Toolbar>\n            </AppBar>\n\n            <Drawer open={open}>\n                <div>\n                    <IconButton onClick={handleDrawerClose}>\n                        <MenuIcon />\n                    </IconButton>\n                    <Divider />\n\n                    <nav>\n                        <GoogleSearch cx={gcse_cx}/>\n                        <h3>Directories</h3>\n                        <DirectoryArchives />\n                        <Divider />\n                        <h3>Monthly</h3>\n                        <MonthlyArchives />\n                    </nav>\n                </div>\n            </Drawer>\n\n            <div css={cssSiteTitle}>\n                <Container>\n                    <Link to=\"/\">\n                        <h1>{siteTitle}</h1>\n                        <h3>{siteDescription}</h3>\n                    </Link>\n                </Container>\n            </div>\n        </header>\n    )\n}\n\n////////////////////////////////////////////////////////////////\n// Middle\n\nconst cssMiddlePane = css`\n    margin-top: 2rem;\n`\nconst cssTableOfContents = css`\n    position: sticky;\n    top: 0;\n    li {\n        font-size: 0.8rem;\n        a { text-decoration: none; }\n    }\n`\nconst cssSidebar = css`\n    margin-right: 2rem;\n    font-size: 0.8rem;\n`\n\nconst Tree = ({ items }) => (\n    <ol>\n        {\n            items.map(v => (\n                <li key={v.url}>\n                    <Link to={v.url}>{v.title}</Link>\n                    {v.items && (<Tree items={v.items} />)}\n                </li>\n            ))\n        }\n    </ol>\n)\n\nconst TableOfContents = ({ items }) => (\n    <div css={cssTableOfContents}>\n        <h3>Table of Contents</h3>\n        <Tree items={items || []} />\n    </div>\n)\n\nconst MiddlePane = ({ children, tableOfContents }) => (\n    <div css={cssMiddlePane}>\n        <Container>\n            <Grid container spacing={3}>\n                <Hidden smDown>\n                    <Grid item md={3} xs={false}>\n                        <div css={cssSidebar}>\n                            <Sidebar />\n                        </div>\n                    </Grid>\n                </Hidden>\n\n                <Grid item md={6} xs={12}>\n                    {children}\n                </Grid>\n\n                <Hidden smDown>\n                    <Grid item md={3} xs={12}>\n                        <GoogleSearch />\n                        {tableOfContents && (<TableOfContents items={tableOfContents.items} />)}\n                    </Grid>\n                </Hidden>\n            </Grid>\n        </Container>\n    </div>\n)\n\n////////////////////////////////////////////////////////////////\n// Bottom\n\nconst cssBottomPane = css`\n    border-top: 2px solid #111;\n    margin-top: 1em;\n    padding: 1em;\n`\nconst BottomPane = ({ author }) => (\n    <footer css={cssBottomPane}>\n        (C) Copyright {(new Date()).getFullYear()} {author} All Right Reserved.\n                Powered by <a href=\"https://www.gatsbyjs.com/\">Gatsby</a>\n                and <a href=\"https://github.com/atarukodaka/gatsby-aksite-starter\">AK site starter</a>.\n    </footer>\n)\n\n////////////////////////////////////////////////////////////////\n// Layout\nconst Layout = ({ children, title, description, image, tableOfContents }) => {\n    const data = useStaticQuery(query)\n    const siteTitle = data.site.siteMetadata.title\n    const siteDescription = data.site.siteMetadata.description\n    const author = data.site.siteMetadata.author\n\n    if (description === undefined) { description = siteDescription }\n\n    return (\n        <MuiThemeProvider theme={theme}>\n            <SEO title={`${title} | ${siteTitle}`} description={description} image={image} lang=\"ja\" />\n            <TopPane siteTitle={siteTitle} siteDescription={siteDescription} />\n            <MiddlePane tableOfContents={tableOfContents}>{children}</MiddlePane>\n            <BottomPane author={author} social={data.site.siteMetadata.social} />\n        </MuiThemeProvider>\n    )\n}\nexport default Layout\n"],"sourceRoot":""}