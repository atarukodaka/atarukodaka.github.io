{"version":3,"sources":["webpack:///../gatsby-theme-aksite/src/templates/monthly_archive-template.js"],"names":["MonthlyArchiveTemplate","data","pageContext","year","month","crumbs","breadcrumb","title","pagination_parameters","numberOfPages","humanPageNumber","onChangeHandler","_e","p","pathPrefix","monthlyArchivePath","navigate","handleChange","nodes","allMdx"],"mappings":"4FAAA,6GA2Be,SAASA,EAAT,GAAwD,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,YAC7CC,EAAgBD,EAAhBC,KAAMC,EAAUF,EAAVE,MACQC,EAAaH,EAA3BI,WAAcD,OAChBE,EAAK,oBAAuBJ,EAAvB,IAA+BC,EAGpCI,EAAwB,CAC5BC,cAAeP,EAAYO,cAC3BC,gBAAiBR,EAAYQ,gBAC7BC,gBAAiB,SAACC,EAAIC,IAfL,SAACV,EAAMC,EAAOS,GAEjC,IAAMC,EAAaC,6BAAmBZ,EAAMC,GAC5CY,mBAAgB,IAANH,EAAWC,EAAgBA,EAA5B,IAA0CD,GAYnBI,CAAad,EAAMC,EAAOS,KAE1D,OAAQ,YAAC,IAAD,CAAiBN,MAAOA,EAAOW,MAAOjB,EAAKkB,OAAOD,MAAOb,OAAQA,EACvEG,sBAAuBA","file":"component---gatsby-theme-aksite-src-templates-monthly-archive-template-js-3bcfe747a78775e24856.js","sourcesContent":["import React from \"react\"\nimport { graphql, navigate } from \"gatsby\"\n\nimport ArchiveTemplate from './archive_template'\nimport { monthlyArchivePath } from '../utils/archive_path'\n\nexport const query = graphql`\n      query($fromDate: Date!, $toDate: Date!, $skip: Int!, $limit: Int!){        \n      allMdx(\n        sort: {fields: frontmatter___date, order: DESC},\n        filter: { frontmatter: { \n          date: { gte: $fromDate, lt: $toDate },\n          draft: {ne: true}\n         }},\n        skip: $skip, limit: $limit) {\n        nodes { \n          ...postFields\n        } \n      }\n    }\n  `\nconst handleChange = (year, month, p) => {\n  //const pathPrefix = `/archives/${year}${month.toString().padStart(2, 0)}`\n  const pathPrefix = monthlyArchivePath(year, month)\n  navigate((p === 1) ? pathPrefix : `${pathPrefix}/${p}`)\n}\n\nexport default function MonthlyArchiveTemplate({ data, pageContext }) {\n  const { year, month } = pageContext\n  const { breadcrumb: { crumbs } } = pageContext\n  const title = `MONTHLY ARCHIVE: ${year}/${month}`\n  //console.log(title)\n\n  const pagination_parameters = {\n    numberOfPages: pageContext.numberOfPages,\n    humanPageNumber: pageContext.humanPageNumber,\n    onChangeHandler: (_e, p) => { handleChange(year, month, p) }\n  }\n  return (<ArchiveTemplate title={title} nodes={data.allMdx.nodes} crumbs={crumbs}\n    pagination_parameters={pagination_parameters}/>)\n    \n\n}\n\n"],"sourceRoot":""}